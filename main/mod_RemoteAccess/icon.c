#include "nb:pre.h"
#include "protos.h"

extern struct Library *IconBase;

static UWORD chip session_icon_data[] =
{ 
	0x7fff,0xffe0,	/* .**************************..... */
	0xe000,0x0070,	/* ***......................***.... */
	0xc7ff,0xfe30,	/* **...******************...**.... */
	0xcfe0,0x7f30,	/* **..*******......*******..**.... */
	0xcfc0,0x3f30,	/* **..******........******..**.... */
	0xcfe0,0x7f30,	/* **..*******......*******..**.... */
	0xcfff,0xff30,	/* **..********************..**.... */
	0xcf00,0x3f30,	/* **..****..........******..**.... */
	0xcfc0,0x3f30,	/* **..******........******..**.... */
	0xcfc0,0x3f30,	/* **..******........******..**.... */
	0xcfc0,0x3f30,	/* **..******........******..**.... */
	0xcfc0,0x3f30,	/* **..******........******..**.... */
	0xcf00,0x0f30,	/* **..****............****..**.... */
	0xc7ff,0xfe30,	/* **...******************...**.... */
	0xe000,0x0070,	/* ***......................***.... */
	0x7fff,0xffe0,	/* .**************************..... */
	0x0000,0x0000,	/* ................................ */
 
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
	0x001f,0x8000,	/* ...........******............... */
	0x003f,0xc000,	/* ..........********.............. */
	0x001f,0x8000,	/* ...........******............... */
	0x0000,0x0000,	/* ................................ */
	0x00ff,0xc000,	/* ........**********.............. */
	0x003f,0xc000,	/* ..........********.............. */
	0x003f,0xc000,	/* ..........********.............. */
	0x003f,0xc000,	/* ..........********.............. */
	0x003f,0xc000,	/* ..........********.............. */
	0x00ff,0xf000,	/* ........************............ */
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
 
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
	0x07ff,0xfe00,	/* .....******************......... */
	0x0fe0,0x7f00,	/* ....*******......*******........ */
	0x0fc0,0x3f00,	/* ....******........******........ */
	0x0fe0,0x7f00,	/* ....*******......*******........ */
	0x0fff,0xff00,	/* ....********************........ */
	0x0f00,0x3f00,	/* ....****..........******........ */
	0x0fc0,0x3f00,	/* ....******........******........ */
	0x0fc0,0x3f00,	/* ....******........******........ */
	0x0fc0,0x3f00,	/* ....******........******........ */
	0x0fc0,0x3f00,	/* ....******........******........ */
	0x0f00,0x0f00,	/* ....****............****........ */
	0x07ff,0xfe00,	/* .....******************......... */
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
};

static UWORD chip cdf_icon_data[] =
{ 
	0x7fff,0xffe0,	/* .**************************..... */
	0xe000,0x0070,	/* ***......................***.... */
	0xc000,0x0030,	/* **........................**.... */
	0xc000,0x0030,	/* **........................**.... */
	0xc000,0x0030,	/* **........................**.... */
	0xc000,0x0030,	/* **........................**.... */
	0xc000,0x0030,	/* **........................**.... */
	0xc000,0x0030,	/* **........................**.... */
	0xc000,0x0030,	/* **........................**.... */
	0xc000,0x0030,	/* **........................**.... */
	0xc000,0x0030,	/* **........................**.... */
	0xc000,0x0030,	/* **........................**.... */
	0xc000,0x0030,	/* **........................**.... */
	0xc000,0x0030,	/* **........................**.... */
	0xe000,0x0070,	/* ***......................***.... */
	0x7fff,0xffe0,	/* .**************************..... */
	0x0000,0x0000,	/* ................................ */

	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
	0x001f,0x8000,	/* ...........******............... */
	0x003f,0xc000,	/* ..........********.............. */
	0x001f,0x8000,	/* ...........******............... */
	0x0000,0x0000,	/* ................................ */
	0x00ff,0xc000,	/* ........**********.............. */
	0x003f,0xc000,	/* ..........********.............. */
	0x003f,0xc000,	/* ..........********.............. */
	0x003f,0xc000,	/* ..........********.............. */
	0x003f,0xc000,	/* ..........********.............. */
	0x00ff,0xf000,	/* ........************............ */
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */

	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
	0x07ff,0xfe00,	/* .....******************......... */
	0x0fe0,0x7f00,	/* ....*******......*******........ */
	0x0fc0,0x3f00,	/* ....******........******........ */
	0x0fe0,0x7f00,	/* ....*******......*******........ */
	0x0fff,0xff00,	/* ....********************........ */
	0x0f00,0x3f00,	/* ....****..........******........ */
	0x0fc0,0x3f00,	/* ....******........******........ */
	0x0fc0,0x3f00,	/* ....******........******........ */
	0x0fc0,0x3f00,	/* ....******........******........ */
	0x0fc0,0x3f00,	/* ....******........******........ */
	0x0f00,0x0f00,	/* ....****............****........ */
	0x07ff,0xfe00,	/* .....******************......... */
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
	0x0000,0x0000,	/* ................................ */
};

static struct Image iconImage1 = { 0,0, 32,17,3, &session_icon_data[0], 0x00f,0x000, NULL };

static struct DiskObject sessionIcon =
{
WB_DISKMAGIC, WB_DISKVERSION,
	{
	NULL,
	0,0,28,17,
	GFLG_GADGIMAGE | GFLG_GADGHBOX,
	GACT_IMMEDIATE | GACT_RELVERIFY,
	GTYP_BOOLGADGET,
	(APTR)&iconImage1,
	NULL,NULL,NULL,NULL,0,NULL
	},
WBPROJECT, NULL, NULL, NO_ICON_POSITION, NO_ICON_POSITION,	
NULL, NULL, 4096
};

static struct Image iconImage2 = { 0,0, 32,17,3, &cdf_icon_data[0], 0x00f,0x000, NULL };

static struct DiskObject cdfIcon =
{
WB_DISKMAGIC, WB_DISKVERSION,
	{
	NULL,
	0,0,28,17,
	GFLG_GADGIMAGE | GFLG_GADGHBOX,
	GACT_IMMEDIATE | GACT_RELVERIFY,
	GTYP_BOOLGADGET,
	(APTR)&iconImage2,
	NULL,NULL,NULL,NULL,0,NULL
	},
WBPROJECT, NULL, NULL, NO_ICON_POSITION, NO_ICON_POSITION,	
NULL, NULL, 4096
};

/**** functions ****/

/******** SaveSessionIcon() ********/

BOOL SaveSessionIcon(STRPTR fullPath)
{
	IconBase = (struct Library *)OpenLibrary("icon.library", 0L);
	if ( IconBase )
	{
		if ( PutDiskObject(fullPath, &sessionIcon) == 0 )
		{
			CloseLibrary((struct Library *)IconBase);
			return(FALSE);
		}
		CloseLibrary((struct Library *)IconBase);
	}

	return(TRUE);
}

/******** SaveCDFIcon() ********/

BOOL SaveCDFIcon(STRPTR fullPath)
{
	IconBase = (struct Library *)OpenLibrary("icon.library", 0L);
	if ( IconBase )
	{
		if ( PutDiskObject(fullPath, &cdfIcon) == 0 )
		{
			CloseLibrary((struct Library *)IconBase);
			return(FALSE);
		}
		CloseLibrary((struct Library *)IconBase);
	}

	return(TRUE);
}

/******** E O F ********/
